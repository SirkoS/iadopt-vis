<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>I-Adopt Variable Visualizer</title>
</head>

<body data-bs-theme="dark">
  <h1>I-ADOPT Visualiser</h1>

  <div class="container-xl">

    <nav>
      <div class="nav nav-tabs justify-content-center mb-3" role="tablist">
        <button class="nav-link active" id="rdf-tab" data-bs-toggle="tab" data-bs-target="#rdf-tab-pane" type="button"
          role="tab" aria-controls="rdf-tab-pane" aria-selected="true">RDF</button>
        <button class="nav-link" id="url-tab" data-bs-toggle="tab" data-bs-target="#url-tab-pane" type="button"
          role="tab" aria-controls="url-tab-pane" aria-selected="false" disabled>URL</button>
        <button class="nav-link" id="sparql-tab" data-bs-toggle="tab" data-bs-target="#sparql-tab-pane" type="button"
          role="tab" aria-controls="sparql-tab-pane" aria-selected="false" disabled>SPARQL
          Endpoint</button>
      </div>
    </nav>

    <div class="tab-content">
      <div class="tab-pane fade show active" id="rdf-tab-pane" role="tabpanel" aria-labelledby="rdf-tab" tabindex="0">

        <textarea id="input" class="font-monospace">
@prefix pato:   <http://purl.obolibrary.org/obo/> .
@prefix p01:    <http://vocab.nerc.ac.uk/collection/P01/current/> .
@prefix s06:    <http://vocab.nerc.ac.uk/collection/S06/current/> .
@prefix s12:    <http://vocab.nerc.ac.uk/collection/S12/current/> .
@prefix s27:    <http://vocab.nerc.ac.uk/collection/S27/current/> .
@prefix worms:  <https://marinespecies.org/aphia.php?p=taxdetails&id=> .
@prefix iop:    <https://w3id.org/iadopt/ont/> .
@prefix rdfs:   <http://www.w3.org/2000/01/rdf-schema#> .

p01:IC000344 a iop:Variable ;
  rdfs:label              "concentration of endosulfane sulfate in wet flesh of ostrea edulis"@en ;
  iop:hasProperty         s06:S0600045 ;
  iop:hasObjectOfInterest s27:CS003625 ;
  iop:hasMatrix           s12:S1214 ;
  iop:hasContextObject    worms:140658 ;
  iop:hasConstraint       [
    a pato:PATO_0001823 ;
    rdfs:label      "wet"@en ;
    iop:constrains  s12:S1214
  ] .

s06:S0600045 a iop:Property ;
  rdfs:label "Concentration"@en .

s27:CS003625 a iop:Entity ;
  rdfs:label "endosulfan sulfate"@en .

s12:S1214 a iop:Entity ;
  rdfs:label "flesh"@en .

worms:140658 a iop:Entity ;
  rdfs:label "Ostrea edulis"@en .

          </textarea>

      </div>
      <div class="tab-pane fade" id="url-tab-pane" role="tabpanel" aria-labelledby="url-tab" tabindex="0">
        tbd
      </div>
      <div class="tab-pane fade" id="sparql-tab-pane" role="tabpanel" aria-labelledby="sparql-tab" tabindex="0">
        tbd
      </div>
    </div>
    <button id="visualize" class="btn btn-primary">Visualize!</button>

    <pre id="dev"></pre>
    <div class="container-lg" id="svg"></div>
    <div class="dropdown invisible" id="export">
      <button disabled class="btn btn-primary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
        Export Visualization
      </button>
      <ul class="dropdown-menu">
        <li><a class="dropdown-item" href="#" data-format="svg">SVG</a></li>
        <li><a class="dropdown-item" href="#" data-format="png">PNG</a></li>
      </ul>
    </div>
    <div>
    </div>
    <div id="helper">
      <svg><text></text></svg>
    </div>
  </div>

  <script type="module" src="/src/main.js"></script>
</body>

</html>